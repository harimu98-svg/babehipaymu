<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPaymu QRIS Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        .container { background: #f5f5f5; padding: 20px; border-radius: 10px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, button { width: 100%; padding: 10px; margin: 5px 0; border: 1px solid #ddd; border-radius: 5px; }
        button { background: #007bff; color: white; border: none; cursor: pointer; }
        button:hover { background: #0056b3; }
        button:disabled { background: #6c757d; cursor: not-allowed; }
        .qr-code { text-align: center; margin: 20px 0; }
        .status { padding: 10px; border-radius: 5px; margin: 10px 0; }
        .status.pending { background: #fff3cd; color: #856404; }
        .status.success { background: #d1edff; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§ª iPaymu QRIS Test</h1>
        
        <!-- Payment Form -->
        <div id="paymentForm">
            <div class="form-group">
                <label for="amount">Amount (Rp):</label>
                <input type="number" id="amount" placeholder="10000" min="1000" value="10000">
            </div>
            <div class="form-group">
                <label for="name">Nama:</label>
                <input type="text" id="name" placeholder="Nama Customer" value="Test Customer">
            </div>
            <div class="form-group">
                <label for="phone">Phone:</label>
                <input type="text" id="phone" placeholder="081234567890" value="081234567890">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" placeholder="test@example.com" value="test@babeh.com">
            </div>
            <button onclick="createPayment()" id="payButton">ðŸ’³ Buat Pembayaran QRIS</button>
        </div>

        <!-- QR Code Display -->
        <div id="qrDisplay" class="hidden">
            <div class="qr-code">
                <h3>Scan QR Code Below</h3>
                <div id="qrImage"></div>
                <p><strong>Amount:</strong> Rp <span id="displayAmount">0</span></p>
                <p><strong>Order ID:</strong> <span id="displayOrderId">-</span></p>
                <p><strong>Session ID:</strong> <span id="displaySessionId">-</span></p>
            </div>
            
            <div class="status" id="paymentStatus">
                Menunggu pembayaran...
            </div>
            
            <button onclick="checkStatus()" id="checkButton">ðŸ”„ Check Status</button>
            <button onclick="resetForm()" id="resetButton">ðŸ”„ Buat Pembayaran Baru</button>
        </div>

        <!-- Logs -->
        <div id="logs" style="margin-top: 20px; background: #000; color: #0f0; padding: 10px; border-radius: 5px; font-family: monospace; height: 200px; overflow-y: scroll;">
            <strong>Logs:</strong>
            <div id="logContent"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./js/ipaymu-config.js"></script>
    <script src="./js/ipaymu-api.js"></script>
    <script src="./js/app.js"></script>
</body>
</html>